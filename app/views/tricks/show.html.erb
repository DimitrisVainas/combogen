<div class="container">
  <%= link_to '← Tricks', tricks_path, :class => "btn btn-camouflaged mrs" %>
  <% if tricker_signed_in? && ((@trick.tricker_id.equal? current_tricker.id) || current_tricker.try(:admin?)) %>
    <%= link_to ' Edit', edit_trick_path(@trick), :class => "fa fa-pencil btn btn-camouflaged mrs" %>
    <%= link_to ' Destroy', @trick, method: :delete, :class => "fa fa-trash-o btn btn-camouflaged mrs",
        data: { confirm: 'Destroying a trick will also remove it from all combos. The ones left with less than two tricks will be destroyed as well. Are you sure you want to continue?'
    } %>
  <% end %>
</div>

<div class="container mbl">
  <h1><%= @trick.name %></h1>
  <ul id="title-details">
    <li>Class <%= @trick.difficulty %></li>
    <li><%= @trick.trick_type %></li>
  </ul>
</div>

<div class="container">
  <% if @trick.combos.empty? %>
    <h3 class="mbm">We found no combos that use this trick in our database. That's really sad...</h3>
    <% if tricker_signed_in? %>
      <%= link_to 'Be the first to create one!', '/combos/new', :class => "btn btn-camouflaged mbl" %>
    <% end %>
  <% else %>
    <div class="combo-list container card-shadow">
      <div class="combo-list-head clearfix">
        <h3>Combos using this trick (<%= @trick.combos.uniq.length %>)</h3>
      </div>
      <% if !@combos.empty? %>
        <% @index = 0 %>
        <% @combos.each do |combo| %>
          <% @combo = combo %>
          <%= render 'combos/combo_row' %>
          <% @index += 1 %>
        <% end %>
      <% end %>
    </div>
  <% end %>
</div>

